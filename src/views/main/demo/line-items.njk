{% extends "base.njk" %}
{% from "govuk/components/table/macro.njk" import govukTable %}

{% block content %}
  <span class="govuk-caption-l">Demo</span>
  <h1 class="govuk-heading-xl">Line items</h1>

  <h2 class="govuk-heading-m govuk-!-margin-top-6">Line item 1</h2>

  <dl class="govuk-summary-list govuk-!-margin-bottom-4">
    <div class="govuk-summary-list__row">
      <dt class="govuk-summary-list__key">Date</dt>
      <dd class="govuk-summary-list__value">12 Jan 2024</dd>
    </div>
    <div class="govuk-summary-list__row">
      <dt class="govuk-summary-list__key">Amount</dt>
      <dd class="govuk-summary-list__value">£120.00</dd>
    </div>
    <div class="govuk-summary-list__row">
      <dt class="govuk-summary-list__key">Description</dt>
      <dd class="govuk-summary-list__value">Train ticket</dd>
    </div>
    <div class="govuk-summary-list__row">
      <dt class="govuk-summary-list__key">Category</dt>
      <dd class="govuk-summary-list__value">Travel</dd>
    </div>
  </dl>

  <h3 class="govuk-heading-s">Potential evidence matches</h3>

  <table class="govuk-table">
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th class="govuk-table__header">Snippet</th>
        <th class="govuk-table__header">Document</th>
        <th class="govuk-table__header">Page(s)</th>
        <th class="govuk-table__header">Action</th>
      </tr>
    </thead>
    <tbody class="govuk-table__body">
      {% for result in results %}
        <tr class="govuk-table__row">
          <td class="govuk-table__cell">
            {{ result._source.chunk_text }}
          </td>
          <td class="govuk-table__cell">
            {{ result._source.document_id }}
          </td>
          <td class="govuk-table__cell">
            {% if result._source.pages %}
              {{ result._source.pages | join(", ") }}
            {% else %}
              —
            {% endif %}
          </td>
          <td class="govuk-table__cell">
            <a
              class="govuk-link"
              href="/demo/evidence?evidenceId={{ result._id }}"
            >
              See evidence
            </a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
